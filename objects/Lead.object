<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>AddToCampaign</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>AddToCampaign</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>AddToCampaign</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CallHighlightAction</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CallHighlightAction</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CallHighlightAction</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>ChangeStatus</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>ChangeStatus</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>ChangeStatus</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Convert</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Convert</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Convert</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>EmailHighlightAction</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>EmailHighlightAction</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>EmailHighlightAction</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>FindDup</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>FindDup</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>FindDup</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>ListClean</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>ListClean</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>ListClean</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SmsHighlightAction</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SmsHighlightAction</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SmsHighlightAction</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <businessProcesses>
        <fullName>TEST Brokerage</fullName>
        <isActive>true</isActive>
        <values>
            <fullName>Closed - Converted</fullName>
            <default>false</default>
        </values>
        <values>
            <fullName>Closed - Not Converted</fullName>
            <default>false</default>
        </values>
        <values>
            <fullName>New - Not Contacted</fullName>
            <default>true</default>
        </values>
        <values>
            <fullName>Nurturing - Contacted</fullName>
            <default>false</default>
        </values>
        <values>
            <fullName>Working - Contacted</fullName>
            <default>false</default>
        </values>
    </businessProcesses>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <enableFeeds>true</enableFeeds>
    <enableHistory>false</enableHistory>
    <externalSharingModel>ReadWriteTransfer</externalSharingModel>
    <fields>
        <fullName>Address</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>AnnualRevenue</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>CampaignId</fullName>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>CleanStatus</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>Company</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>CompanyDunsNumber</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>CurrencyIsoCode</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>CurrentGenerators__c</fullName>
        <externalId>false</externalId>
        <label>Current Generator(s)</label>
        <length>100</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>DandbCompanyId</fullName>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Description</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>DoNotCall</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>Email</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>Fax</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>HasOptedOutOfEmail</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>HasOptedOutOfFax</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>IndividualId</fullName>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Industry</fullName>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>Jigsaw</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>LastTransferDate</fullName>
    </fields>
    <fields>
        <fullName>LeadSource</fullName>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>MobilePhone</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>Name</fullName>
        <trackFeedHistory>true</trackFeedHistory>
    </fields>
    <fields>
        <fullName>NumberOfEmployees</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>NumberofLocations__c</fullName>
        <externalId>false</externalId>
        <label>Number of Locations</label>
        <precision>3</precision>
        <required>false</required>
        <scale>0</scale>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OwnerId</fullName>
        <trackFeedHistory>true</trackFeedHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>PartnerAccountId</fullName>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Phone</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>Primary__c</fullName>
        <externalId>false</externalId>
        <label>Primary</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>No</fullName>
                    <default>false</default>
                    <label>No</label>
                </value>
                <value>
                    <fullName>Yes</fullName>
                    <default>false</default>
                    <label>Yes</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>ProductInterest__c</fullName>
        <externalId>false</externalId>
        <label>Product Interest</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>GC1000 series</fullName>
                    <default>false</default>
                    <label>GC1000 series</label>
                </value>
                <value>
                    <fullName>GC5000 series</fullName>
                    <default>false</default>
                    <label>GC5000 series</label>
                </value>
                <value>
                    <fullName>GC3000 series</fullName>
                    <default>false</default>
                    <label>GC3000 series</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Rating</fullName>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>SICCode__c</fullName>
        <externalId>false</externalId>
        <label>SIC Code</label>
        <length>15</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Status</fullName>
        <trackFeedHistory>true</trackFeedHistory>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>Title</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>Website</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <listViews>
        <fullName>AllOpenLeads</fullName>
        <filterScope>Everything</filterScope>
        <filters>
            <field>LEAD.STATUS</field>
            <operation>notContain</operation>
            <value>closed</value>
        </filters>
        <label>All Open Leads</label>
    </listViews>
    <listViews>
        <fullName>MyUnreadLeads</fullName>
        <filterScope>Mine</filterScope>
        <filters>
            <field>LEAD.UNREAD</field>
            <operation>equals</operation>
            <value>1</value>
        </filters>
        <label>My Unread Leads</label>
    </listViews>
    <listViews>
        <fullName>TodaysLeads</fullName>
        <filterScope>Everything</filterScope>
        <filters>
            <field>LEAD.CREATED_DATE</field>
            <operation>equals</operation>
            <value>TODAY</value>
        </filters>
        <label>Today&apos;s Leads</label>
    </listViews>
    <listViews>
        <fullName>ViewCustom1</fullName>
        <columns>FULL_NAME</columns>
        <columns>LEAD.COMPANY</columns>
        <columns>LEAD.STATE</columns>
        <columns>LEAD.EMAIL</columns>
        <columns>LEAD.STATUS</columns>
        <columns>LEAD.CREATED_DATE</columns>
        <columns>CORE.USERS.ALIAS</columns>
        <columns>LEAD.UNREAD</columns>
        <filterScope>Everything</filterScope>
        <label>View - Custom 1</label>
    </listViews>
    <listViews>
        <fullName>ViewCustom2</fullName>
        <columns>FULL_NAME</columns>
        <columns>LEAD.COMPANY</columns>
        <columns>LEAD.STATE</columns>
        <columns>LEAD.EMAIL</columns>
        <columns>LEAD.STATUS</columns>
        <columns>LEAD.CREATED_DATE</columns>
        <columns>CORE.USERS.ALIAS</columns>
        <columns>LEAD.UNREAD</columns>
        <columns>LEAD.LEAD_SOURCE</columns>
        <filterScope>Everything</filterScope>
        <label>View - Custom 2</label>
    </listViews>
    <searchLayouts>
        <customTabListAdditionalFields>FULL_NAME</customTabListAdditionalFields>
        <customTabListAdditionalFields>LEAD.COMPANY</customTabListAdditionalFields>
        <customTabListAdditionalFields>LEAD.PHONE</customTabListAdditionalFields>
        <lookupDialogsAdditionalFields>FULL_NAME</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>LEAD.COMPANY</lookupDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>FULL_NAME</lookupPhoneDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>LEAD.COMPANY</lookupPhoneDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>LEAD.PHONE</lookupPhoneDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>LEAD.MOBILE_PHONE</lookupPhoneDialogsAdditionalFields>
        <searchResultsAdditionalFields>FULL_NAME</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>LEAD.TITLE</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>LEAD.COMPANY</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>LEAD.PHONE</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>LEAD.MOBILE_PHONE</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>LEAD.EMAIL</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>LEAD.STATUS</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>CORE.USERS.ALIAS</searchResultsAdditionalFields>
    </searchLayouts>
    <sharingModel>ReadWriteTransfer</sharingModel>
    <webLinks>
        <fullName>LiveText__Opt_in_for_Text_Messages_list</fullName>
        <availability>online</availability>
        <description>This button is for List View</description>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Opt-in for Text Messages</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>true</requireRowSelection>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/10.0/connection.js&quot;)} 
			{!REQUIRESCRIPT(&quot;/soap/ajax/14.0/apex.js&quot;)} 
			{!REQUIRESCRIPT(&apos;/support/console/31.0/integration.js&apos;)}; 

			var records = {!GETRECORDIDS($ObjectType.Account)};
            var hasShortCodeNumber = sforce.apex.execute(&quot;LiveText.RetrievePreferredPhoneNumber&quot;,&quot;agentHasShortcodeNumberAssigned&quot;,{});
            if (records[0] == null){ 
                alert(&quot;Please select at least one lead&quot;) 
            }else if((records.length &gt; 25) &amp;&amp; hasShortCodeNumber==&apos;false&apos;){
                alert(&apos;A maximum of 25 text messages may be sent at once. Please select fewer recipients and try again.&apos;);
            }else{
				var packagePrefix = &quot;LiveText__&quot;; 
				var recordType = &quot;lead&quot;; 
				var recordIds = &quot;&quot;; 
				var optOutField = &apos;&apos;; 
				var optOutDefaultValue = &apos;yes&apos;; 
				var smsType = &apos;&apos;; 
				var userId = &apos;{!$User.Id}&apos;; 
				var elementIdVar = &apos;&apos;; 
				var showUserDropDown = false; 
				var dialogTitle = &apos;&apos;; 
				var queryString = &apos;&apos;; 

				for (var n in records) { 
					if(n == &apos;remove&apos; || n == &apos;indexOf&apos;) continue; 
					recordIds = recordIds + records[n]; 
				
					if (n != records.length-1) { 
						recordIds = recordIds + &quot;,&quot;; 
					} 
				} 

				var e = document.getElementsByName(&quot;fcf&quot;)[0]; 
				var selectedView = e.options[e.selectedIndex].value; 
				
				var returnURL = &apos;/00Q?fcf=&apos;+ selectedView + &apos;&amp;rolodexIndex=-1&amp;page=1&apos;; 

				var urlStart =  &apos;https://&apos;+window.location.hostname+&apos;/apex/LiveText__LiveTextOptinStatusPage?recordType=&apos;+recordType +
								&apos;&amp;records=&apos;+recordIds+&apos;&amp;retURL=&apos;+returnURL;

				if(sforce.console.isInConsole()) { 
					sforce.console.openPrimaryTab(null, urlStart + &apos;&amp;inConsole=yes&amp;optType=1&apos;, true, &apos;Opt-in for Text Messages&apos;); 
				}else{ 
					window.top.location.href = urlStart + &apos;&amp;inConsole=no&amp;optType=1&apos;; 
				} 
			}</url>
    </webLinks>
    <webLinks>
        <fullName>LiveText__Opt_out_for_Text_Messages_list</fullName>
        <availability>online</availability>
        <description>This button is for List View</description>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Opt-out for Text Messages</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>true</requireRowSelection>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/10.0/connection.js&quot;)} 
			{!REQUIRESCRIPT(&quot;/soap/ajax/14.0/apex.js&quot;)} 
			{!REQUIRESCRIPT(&apos;/support/console/31.0/integration.js&apos;)}; 

			var records = {!GETRECORDIDS($ObjectType.Lead)}; 
			if (records[0] == null) 
			{ 
				alert(&quot;Please select at least one lead&quot;) 
			} 
			else{ 
				var packagePrefix = &quot;LiveText__&quot;; 
				var recordType = &quot;lead&quot;; 
				var recordIds = &quot;&quot;; 
				var optOutField = &apos;&apos;; 
				var optOutDefaultValue = &apos;yes&apos;; 
				var smsType = &apos;&apos;; 
				var userId = &apos;{!$User.Id}&apos;; 
				var elementIdVar = &apos;&apos;; 
				var showUserDropDown = false; 
				var dialogTitle = &apos;&apos;; 
				var queryString = &apos;&apos;; 

				for (var n in records) { 
					if(n == &apos;remove&apos; || n == &apos;indexOf&apos;) continue; 
					recordIds = recordIds + records[n]; 
				
					if (n != records.length-1) { 
						recordIds = recordIds + &quot;,&quot;; 
					} 
				} 

				var e = document.getElementsByName(&quot;fcf&quot;)[0]; 
				var selectedView = e.options[e.selectedIndex].value; 
				
				var returnURL = &apos;/00Q?fcf=&apos;+ selectedView + &apos;&amp;rolodexIndex=-1&amp;page=1&apos;; 

				var urlStart =  &apos;https://&apos;+window.location.hostname+&apos;/apex/LiveText__LiveTextOptinStatusPage?recordType=&apos;+recordType + 
&apos;&amp;records=&apos;+recordIds+&apos;&amp;retURL=&apos;+returnURL;

				if(sforce.console.isInConsole()) { 
					sforce.console.openPrimaryTab(null, urlStart + &apos;&amp;inConsole=yes&amp;optType=0&apos;, true, &apos;Opt-out for Text Messages&apos;); 
				}else{ 
					window.top.location.href = urlStart + &apos;&amp;inConsole=no&amp;optType=0&apos;; 
				} 
			}</url>
    </webLinks>
    <webLinks>
        <fullName>LiveText__Send_Bulk_SMS</fullName>
        <availability>online</availability>
        <description>Sends text message to selected records</description>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Send Text to List</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>true</requireRowSelection>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/10.0/connection.js&quot;)} 
            {!REQUIRESCRIPT(&quot;/soap/ajax/14.0/apex.js&quot;)} 
            {!REQUIRESCRIPT(&apos;/support/console/31.0/integration.js&apos;)}; 

            var records = {!GETRECORDIDS($ObjectType.Lead)}; 
            var hasShortCodeNumber = sforce.apex.execute(&quot;LiveText.RetrievePreferredPhoneNumber&quot;,&quot;agentHasShortcodeNumberAssigned&quot;,{});
            if (records[0] == null){ 
                alert(&quot;Please select at least one lead&quot;);
            }else if((records.length &gt; 25) &amp;&amp; hasShortCodeNumber==&quot;false&quot;){ 
                alert(&quot;A maximum of 25 text messages may be sent at once. Please select fewer recipients and try again.&quot;); 
            } 
            else{ 
                var packagePrefix = &quot;LiveText__&quot;; 
                var recordType = &quot;lead&quot;; 
                var recordIds = &quot;&quot;;

                for (var n in records) { 
                    if(n == &apos;remove&apos; || n == &apos;indexOf&apos;) continue; 
                    recordIds = recordIds + records[n]; 
                    
                    if (n != records.length-1) { 
                        recordIds = recordIds + &quot;,&quot;; 
                    } 
                }

                var storageId = sforce.apex.execute(&quot;LiveText.RetrievePreferredPhoneNumber&quot;,&quot;saveToStorage&quot;,{stringToSave:recordIds});
                var urlStart = &apos;https://&apos;+window.location.hostname+&apos;/apex/LiveText__LiveTextBulkSms?recordType=&apos;+recordType+&apos;&amp;storageId=&apos;+storageId; 
                
                if(sforce.console.isInConsole()) { 
                    sforce.console.openPrimaryTab(null, urlStart, true);
                } else { 
                    window.top.location.href = urlStart; 
                } 
            }</url>
    </webLinks>
</CustomObject>
