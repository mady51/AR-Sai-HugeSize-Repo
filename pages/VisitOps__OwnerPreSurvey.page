<apex:page standardController="VisitOps__Survey__c" extensions="VisitOps.OwnerPreSurveyExtension" showHeader="false">
 <apex:form id="formId">
<apex:styleSheet value="{!$Resource.VisitOps__survey_css}"/>
<apex:includeScript value="{!$Resource.VisitOps__jquery1_11_1_min}"/>
<apex:includeScript value="{!$Resource.VisitOps__function_js}"/>

<div >
<div class="rightContent">
        <!-- <apex:image url="{!DocumentLogoUrl}" style="padding-left:12px;width:186px;height:60px"/> -->
        <!--<apex:image url="{!DocumentLogoUrl}" style="padding-left:12px;width:128px;height:128px"/>-->
        <apex:image url="{!DocumentLogoUrl}" style="padding-left:12px;"/>
     <div class="screenHeading" style="padding-left:12px;"><br/>Visit Owner Pre-Survey</div>
    <apex:pageMessages /> 
    <apex:outputPanel rendered="{!visitRecord!=null && (attendeeRecord!=null || userRecord!=null) && surveyRecord!=null}">
        <div class="surveyDetails">
          <div class="spacing">
                <apex:outputPanel id="VisitDetails" rendered="{!visitRecord!=null}">
                
                    <div class="row">
                            <div class="labelText">Visit Number</div>
                            <div class="fieldText">
                                <apex:outputField value="{!visitRecord.Name}"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="labelText">Visit Name</div>
                            <div class="fieldText">
                                <apex:outputField value="{!visitRecord.VisitOps__VisitName__c}"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="labelText">Location</div>
                            <div class="fieldText">
                                <apex:outputField value="{!visitRecord.Location__r.Name}"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="labelText">Arrival Time (Location)</div>
                            <div class="fieldText">
                                <!-- 
                                <apex:outputText value="{0,date,M/d/yyyy h:mm a z}">
                                    <apex:param value="{!visitRecord.ArrivalDateTime__c}" />
                                </apex:outputText>
                                 -->
                                <apex:outputField value="{!visitRecord.VisitOps__ArrivalDateTimeLocationTZ__c}"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="labelText">Departure Time (Location)</div>
                            <div class="fieldText">
                                <!-- 
                                <apex:outputText value="{0,date,M/d/yyyy h:mm a z}">
                                    <apex:param value="{!visitRecord.DepartureDateTime__c}" /> 
                                </apex:outputText>
                                 -->
                                <apex:outputField value="{!visitRecord.VisitOps__DepartureDateTimeLocationTZ__c}"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="labelText">Visit Manager</div>
                            <div class="fieldText">
                            <apex:outputField value="{!visitRecord.Owner.Name}"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="labelText">Visit Coordinator</div>
                            <div class="fieldText">
                            <apex:outputText value="{!coordinatorName}"/>
                            </div>
                        </div>
                
            </apex:outputPanel>
                  </div>  
        </div>  
             
        <div class="row">
            <ol class="surveyQuestions">
                <li>
                    <div class="questions"><apex:outputText value="{!$ObjectType.VisitOps__Survey__c.fields.VisitOps__Accomplishment_Owner_pre__c.inlineHelpText}"/></div>
                    <div class="rowDiv"></div>
                    <div>
                    <apex:inputTextArea value="{!surveyRecord.VisitOps__Accomplishment_Owner_pre__c}" required="false" style="width:400px;height:60px" disabled="{!flag}"/>
                    </div>
                </li>
                 <li>        
                    <div class="questions"><apex:outputText value="{!$ObjectType.VisitOps__Survey__c.fields.VisitOps__Biggest_fear__c.inlineHelpText}"/></div>
                    <div class="rowDiv"></div>
                    <div>
                          <apex:inputTextArea value="{!surveyRecord.VisitOps__Biggest_fear__c}" required="false" style="width:400px;height:60px" disabled="{!flag}"/>
                    </div>
                 </li>  
                             
            </ol>
        </div>
                
            <center>
                <apex:commandButton value="Submit" action="{!submitSurvey}" oncomplete="alertUser({!showSubmitButton});" style="width:5%;height:75%;" reRender="formId" rendered="{!showSubmitButton}"/><br/><br/><br/><br/>
            </center><br/><br/>   
    </apex:outputPanel>
   </div>
    <div class="footer"><apex:image url="{!DocumentFooterUrl}" style="padding-left:0px;width:1440px;height:58px"/></div>    
   </div>   
</apex:form>
  
 <style>
 
 <!-- Style Added for Lightning Experience -->
    			body {  
            			font-size:75% !important;
    				}
 
 .errorMessage{
    text-align: center;
    color : grey;
    font-size:15px;
}
.spacing {
    margin-left:0.3cm;
}
.footer {
    background-image: none;
    background-repeat: repeat;
    background-attachment: scroll;
    background-position: 0% 0%;
    position: fixed; 
    bottom: 0pt;
    left: 0pt;

}       
  </style>
  <script>
  function alertUser(errorOccured){
    if(errorOccured=='false' || errorOccured==false) {
        alert('Survey have been submitted successfully. You may now close the window.');
    } 
}
  </script>
</apex:page>